<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
    <script defer type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <!-- css -->
    <link rel="stylesheet" href="/css/admin/admin.css">
    <link rel="stylesheet" href="/css/admin/admin_ticketDetail.css">

    <!-- js -->
    <script defer src="/js/admin/admin.js"></script>
    <script defer src="/js/admin/admin_ticket.js"></script>

    <title>admin</title>
</head>

<body>
<div class="container">
    <div class="list">
        <button type="button" class="btn" th:onclick="|javascript:move_ticket()|">티켓관리</button>
        <button type="button" class="btn" th:onclick="|javascript:move_user()|">회원관리</button>
        <button type="button" class="btn" th:onclick="|javascript:move_notice()|">게시판관리</button>
    </div>
    <section>
        <div class="main">

            <form action="/concert/adminConcert/upload" method="post" enctype="multipart/form-data"  onsubmit="return submitCheck()">
                <div class="inner">
                    <div class="post">
                        <div class="preview">
                            <img src="" alt="">
                        </div>
                        <input type="file" id = "file" name = "file" class="postImg"  style="display: none;">
                        <button type="button" class="selectBt">사진 선택</button>
                    </div>
                    <div class="text">
                        <div class="title" style="margin-top: 20px;">
                            <table id="vertical-1">
                                <tr>
                                    <th>제목</th>
                                    <td><input type="text"  name="title" id="title" required="required" placeholder=""></td>
                                </tr>
                            </table>
                        </div>
                        <div class="list2">
                            <table id="vertical-1">
                                <tr>
                                    <th>응모시작날짜</th>
                                    <td><input type="date" name="drawStartDate" id="drawStartDate" required="required" placeholder=""></td>
                                </tr>
                                <tr>
                                    <th>응모마감날짜</th>
                                    <td><input type="date" name="drawEndDate" id="drawEndDate" required="required" placeholder=""></td>
                                </tr>
                            </table>
                        </div>
                        <div class="list3">
                            <table id="vertical-1">
                                <tr>
                                    <th>공연일시</th>
                                    <td><input type="datetime-local" name="concertDate" id="concertDate" required="required" placeholder=""></td>
                                </tr>
                                <tr>
                                    <th>공연장소</th>
                                    <td><input type="text" name="address" id="address" required="required" placeholder=""></td>
                                </tr>
                            </table>
                        </div>
                        <div class="list4">
                            <table id="vertical-1">
                                <tr>
                                    <th>장르</th>
                                    <td>
                                        <select name="genre" id = "genre" class = "genre" required="required" >
                                            <option value="">=== 선택 ===</option>
                                            <option value="CONCERT">콘서트</option>
                                            <option value="MUSICAL_DRAMA">뮤지컬/연극</option>
                                            <option value="CLASSIC">클래식</option>
                                            <option value="EXHIBITION">전시/행사</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>등급</th>
                                    <td>
                                        <select name="ratings" id = "ratings" class = "ratings" required="required" >
                                            <option value="">=== 선택 ===</option>
                                            <option value="ALL">전체관람가</option>
                                            <option value="EIGHT">8세이상</option>
                                            <option value="TWELVE">12세이상</option>
                                            <option value="FIFTEEN">15세이상</option>
                                            <option value="EIGHTEEN">18세이상</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>좌석수</th>
                                    <td><input type="text" name="seatNum" id="seatNum" required="required"  placeholder=""></td>
                                </tr>
                            </table>
                        </div>
                        <div class="list5">
                            <table id="vertical-1">
                                <tr>
                                    <th>주최측</th>
                                    <td><input type="text"  name = "host" id = "host" required="required" placeholder=""></td>
                                </tr>
                                <tr>
                                    <th>가격</th>
                                    <td><input type="text" name = "price" id = "price" required="required" placeholder=""></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="script">
                    <p>공연 스크립트</p>
                    <textarea class="content" name = "description" id = "description" required="required"></textarea>
                </div>

                <button type="button" class="btn_cancel" onclick="move_ticket()">취소</button>
                <button type="submit" class="btn_submit" >등록</button>
            </form>
        </div>
    </section>
</div>
</body>

<!-- javascript -->
<script type="text/javascript">
  function submitCheck() {
    var fileCheck = document.getElementById("file").value;

    var drawStartDate = document.getElementById( 'drawStartDate' ).value;
    var drawEndDate = document.getElementById( 'drawEndDate' ).value;
    var concertDate = document.getElementById( 'concertDate' ).value;

    if(!fileCheck){
        alert("파일을 첨부해 주세요");
        return false;
    }

    if(drawStartDate > drawEndDate){
        alert("응모 시작일자와 종료일자를 확인해주세요.");
        return false;
    }else if(drawEndDate > concertDate){
        alert("공연일자를 확인해주세요.");
        return false;
    }else{
     alert("등록되었습니다.");
    }
  }
</script>

</html>